{% extends 'base.html.twig' %}

{% block title %}Login | Synexta
{% endblock %}

{% block body %}
	<div class="main-content">
		<div class="container mt-5">
			<div class="row">
				<aside class="col-sm-4"></aside>
				<aside class="col-sm-4">
					<div class="card mb-3">
						<article class="card-body">
							<h4 class="card-title text-center mb-4 mt-1">Connexion</h4>
							<p class="text-primary text-center">Mettez vos identifiants pour vous connecter</p>

							{% for message in app.flashes('success') %}
								<div class="alert alert-dismissible alert-success">
									<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
									{{message}}
								</div>
							{% endfor %}

							{% if error %}
								<div class="alert alert-dismissible alert-danger">
									<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
									{{ error.messageKey|trans(error.messageData, 'security') }}
								</div>
							{% endif %}

							<form action="{{ path('security.login') }}" method="post">
								<div class="form-group">
									<div class="input-group mb-3">
										<span class="input-group-text" id="basic-addon1">
											<i class="fas fa-user"></i>
										</span>
										<div class="form-floating">
											<input type="username" id="username" name="_username" class="form-control" placeholder="Nom d'utilisateur" required value={{ last_username }}>
											<label for="username" class="form-label">Nom d'utilisateur</label>
										</div>
									</div>
								</div>
								<div class="form-group">
									<div class="input-group mb-3">
										<span class="input-group-text">
											<i class="fas fa-lock"></i>
										</span>
										<div class="form-floating">
											<input class="form-control" placeholder="Mot de passe" type="password" name="_password" id="password" required>
											<label for="password" class="form-label">Mot de passe</label>
										</div>
									</div>
								</div>
								<div class="form-group d-grid gap-2">
									<button type="submit" class="btn btn-secondary">
										Connexion
									</button>
								</div>
							</form>
						</article>
					</div>
				</aside>
				<aside class="col-sm-4"></aside>
			</div>
		</div>
	</div>
{% endblock %}